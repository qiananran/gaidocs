import{_ as r,o as e,c as o,x as t,a as i,t as l,U as n}from"./chunks/framework.7f50b160.js";const u=JSON.parse('{"title":"GARP GVRP","description":"","frontmatter":{"title":"GARP GVRP"},"headers":[],"relativePath":"netexam/base/aboutGarp.md","lastUpdated":null}'),d={name:"netexam/base/aboutGarp.md"},s={id:"frontmatter-title",tabindex:"-1"},p=t("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"​",-1),h=n('<h2 id="前沿" tabindex="-1">前沿 <a class="header-anchor" href="#前沿" aria-label="Permalink to &quot;前沿&quot;">​</a></h2><p><strong>GARP(Generic Attribute Registration Protocol)：</strong> 全称是通用属性注册协议，它为处于同一个交换网内的交换机之间提供了一种分发，传播、注册某种信息（VLAN属性、组播地址等）的手段。 GVRP是GARP的一种具体应用或实现，主要用于维护设备动态VLAN属性</p><ul><li>通过GVRP协议，一台交换机上的VLAN信息会迅速传播到整个交换网络</li><li>GVRP实现了LAN属性的动态分发、注册和传播，从而减少了网络管理员的工作量，也能保证VLAN配置的正确性。</li></ul><h2 id="garp" tabindex="-1">GARP <a class="header-anchor" href="#garp" aria-label="Permalink to &quot;GARP&quot;">​</a></h2><p>GARP:Generic Attribute Regisration Protocol 通用属性注册协议<br></p><ul><li>在交换机间分发、传播、注册某种信息（VLAN属性、组播地址等）</li><li>主要用于大中型企业网络中，用来提升管理交换机的效率</li><li>一种协议规范</li></ul><h3 id="garp消息类型" tabindex="-1">GARP消息类型: <a class="header-anchor" href="#garp消息类型" aria-label="Permalink to &quot;GARP消息类型:&quot;">​</a></h3><table><thead><tr><th>类型</th><th>备注</th></tr></thead><tbody><tr><td>Join加入</td><td>加入，端口加入VLAN</td></tr><tr><td>Leave注销</td><td>端口退出VLAN</td></tr><tr><td>Leave All</td><td>注销所有</td></tr></tbody></table><ul><li><p>当一个交换机希望其他交换机注册自己的属性时候，将对外发送Join消息。</p></li><li><p>当一个交换机希望其他交换机注销自己的属性信息时，将对外发送Leave消息。</p></li><li><p>交换机发送Leave All消息，用来注销所有的属性。</p></li></ul><h2 id="gvrp" tabindex="-1">GVRP <a class="header-anchor" href="#gvrp" aria-label="Permalink to &quot;GVRP&quot;">​</a></h2><p>GVRP：GARP VLAN Registration Protocol，VLAN注册协议<br> GVRP基于GARP的工作机制，是GARP的一种应用，传递VLAN信息 <img src="https://photohosting.oss-cn-hangzhou.aliyuncs.com/captures/net/Screenshot%202023-04-08at16-20-19.png" alt=""></p><p><img src="https://photohosting.oss-cn-hangzhou.aliyuncs.com/captures/net/Screenshot%202023-04-08at16-19-46.png" alt=""></p><p>VLAN 分为常规（静态）和动态VLAN</p><h3 id="gvrp的应用" tabindex="-1">GVRP的应用 <a class="header-anchor" href="#gvrp的应用" aria-label="Permalink to &quot;GVRP的应用&quot;">​</a></h3><ul><li><p>接收来自其他交换机的VLAN注册信息，并动态的更新本地的VLAN信息同步</p></li><li><p>将本地的VLAN注册信息向其他交换机传播，以便同一交换机内所有支持GVRP的设备VLAN信息同步</p></li><li><p>手动配置的VLAN是静态VLAN,通过GVRP创建的VLAN是动态VLAN</p></li><li><p>GVRP传播的VLAN注册信息包括静态创建的VLAN信息和动态学习的VLAN信息。</p></li><li><p>单向注册</p></li></ul><ol><li>在SWA上创建静态VLAN2,通过VLAN属性的单向注册，SWB和SWC会学习到动态VLAN2,并将相应端口自动加入到VLAN2中</li><li>SWB的G0/0/2端口没有收到Join消息，不会被加入到VLAN2中。</li></ol><ul><li>单向注销</li></ul><ol><li>当交换机不再需要VLAN2时，可以通过VLAN属性的注销过程将VLAN2删除。</li></ol><h3 id="gvrp注册模式-3种" tabindex="-1">GVRP注册模式： 3种 <a class="header-anchor" href="#gvrp注册模式-3种" aria-label="Permalink to &quot;GVRP注册模式： 3种&quot;">​</a></h3><ol><li><strong>Normal</strong> 交换机端口默认为Normal模式，允许静态和动态VLAN注册，同时会发送静态VLAN和动态VLAN的声明消息。<br></li></ol><p>Normal正常模式： 允许静态和动态VLAN注册，同时会发送静态VLAN的声明消息。</p><ol start="2"><li><p><strong>Forbidden</strong> SWA的G0/0/1 端口为Forbidden模式，不允许动态VLAN在端口上进行注册，同时删除所有学习到的VLAN（只剩下VLAN1）<br> Forbidden禁止模式：不会接收动态VLAN注册，同时删除所有学习到的VLAN （只剩VLAN1）</p></li><li><p><strong>Fixed</strong></p></li></ol><p>Fixed固定模式：不会发送和接收动态的注册信息，只会发送静态注册消息。</p><h3 id="gvrp-配置" tabindex="-1">GVRP 配置 <a class="header-anchor" href="#gvrp-配置" aria-label="Permalink to &quot;GVRP 配置&quot;">​</a></h3><table><thead><tr><th>命令</th><th>配置</th></tr></thead><tbody><tr><td>gvrp</td><td>全局开启GVRP，默认关闭</td></tr><tr><td>int g0/0/1 gvrp</td><td>接口开启GVRP，接口类型必须是Trunk</td></tr><tr><td>gvrp registration fixed</td><td></td></tr><tr><td>gvrp registration forbiddengvrp registration normal</td><td>配置GVRP注册模式</td></tr><tr><td>display gvrp status</td><td>查看GVRP状态</td></tr></tbody></table><p><img src="https://photohosting.oss-cn-hangzhou.aliyuncs.com/captures/net/Screenshot%202023-04-08at17-01-35.png" alt=""></p>',26);function V(a,A,c,N,P,g){return e(),o("div",null,[t("h1",s,[i(l(a.$frontmatter.title)+" ",1),p]),h])}const G=r(d,[["render",V]]);export{u as __pageData,G as default};
